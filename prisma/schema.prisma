generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Language {
  id           String        @id @default(auto()) @map("_id") @db.ObjectId
  code         String        @unique
  name         String
  translations Translation[]
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt

  @@map("languages")
}

model TranslationKey {
  id           String        @id @default(auto()) @map("_id") @db.ObjectId
  keyPath      String
  category     String?
  translations Translation[]
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt

  @@unique([keyPath, category])
  @@map("translation_keys")
}

model Translation {
  id              String         @id @default(auto()) @map("_id") @db.ObjectId
  keyId           String         @db.ObjectId
  languageId      String         @db.ObjectId
  translationText String
  key             TranslationKey @relation(fields: [keyId], references: [id], onDelete: Cascade)
  language        Language       @relation(fields: [languageId], references: [id], onDelete: Cascade)
  createdAt       DateTime       @default(now())
  updatedAt       DateTime       @updatedAt
  @@unique([keyId, languageId])
  @@map("translation")
}

model Skill {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  categories   String[]
  name         String   @unique
  experience   Int 
  level        String
  percentage   Int?
  icon         String
  color        String?
  displayOrder Int      @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  @@map("skills")
}

model Experience {
  id              String   @id @default(auto()) @map("_id") @db.ObjectId
  category        String
  titleTr         String
  titleEn         String
  institutionTr   String
  institutionEn   String
  period          String
  status          String
  location        String?
  gpa             String?
  descriptionTr   String?
  descriptionEn   String?
  technologies    String[] 
  achievementsTr  String[] 
  achievementsEn  String[] 
  icon            String?
  displayOrder    Int      @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("experience")
}

model Project {
  id                 String   @id @default(auto()) @map("_id") @db.ObjectId
  category           String
  titleTr            String
  titleEn            String
  descriptionTr      String
  descriptionEn      String
  longDescriptionTr  String?
  longDescriptionEn  String?
  status             String
  technologies       String[] 
  featuresTr         String[] 
  featuresEn         String[] 
  liveUrl            String?
  githubUrl          String?
  teamTr             String?
  teamEn             String?
  roleTr             String?
  roleEn             String?
  metricsTr          Json?    
  metricsEn          Json?    
  displayOrder       Int      @default(0)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@map("projects")
}
